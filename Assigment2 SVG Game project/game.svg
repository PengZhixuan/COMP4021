<?xml version="1.0" encoding="utf-8"?>
<svg xmlns="http://www.w3.org/2000/svg"
   xmlns:xhtml="http://www.w3.org/1999/xhtml"
     xmlns:xlink="http://www.w3.org/1999/xlink"
     xmlns:dc="http://purl.org/dc/elements/1.1/"
     xmlns:cc="http://creativecommons.org/ns#"
     xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"
     xmlns:svg="http://www.w3.org/2000/svg"
     xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd"
     xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape"
   onload="top.load(evt)"
     baseProfile="full"
     xmlns:a="http://www.adobe.com/svg10-extensions" a:timeline="independent"
     width="800px" height="600px"> 
    <defs>
    <pattern id="background_pattern" x="0" y="0" width="120" height="120" patternUnits="userSpaceOnUse">
      <rect width="60" height="60" fill="white" x="0" y="0"/>
      <rect width="60" height="60" fill="grey" x="60" y="0"/>
      <rect width="60" height="60" fill="grey" x="0" y="60"/>
      <rect width="60" height="60" fill="white" x="60" y="60"/>
    </pattern>
  <clipPath id="instructionclip">
    <rect x="800" y="600" width="0" height="0">
      <animate id="effect2" attributeName="x" attributeType="XML" values="400;0"
          begin="again.click;0s" dur="2s" fill="freeze"/>
        <animate attributeName="y" attributeType="XML" values="300;0"
          begin="effect2.begin" dur="2s" fill="freeze"/>
        <animate attributeName="width" attributeType="XML" values="0;800"
          begin="effect2.begin" dur="2s" fill="freeze"/>
        <animate attributeName="height" attributeType="XML" values="0;600"
          begin="effect2.begin" dur="2s" fill="freeze"/>
    </rect>
  </clipPath>
      <clipPath id="gameareaclip">
      <rect x="20" y="20" width="600" height="560"/>
    </clipPath>  
    <clipPath id="gameclip">
      <rect x="0" y="0" width="0" height="0">
          <animate id="effect" attributeName="x" attributeType="XML"
                         values="400;0" 
                         begin="button.click" dur="2s" fill="freeze"/>
          <animate attributeName="y" attributeType="XML"
                         values="300;0"
                         begin="effect.begin" dur="2s" fill="freeze"/>
          <animate attributeName="width" attributeType="XML"
                         values="0;800"
                         begin="effect.begin" dur="2s" fill="freeze"/>
            <animate attributeName="height" attributeType="XML"
                         values="0;600"
                         begin="effect.begin" dur="2s" fill="freeze"/>
            </rect>
        </clipPath>
    <linearGradient id="back_color" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:rgb(0,0,0);stop-opacity:1" />
      <stop offset="100%" style="stop-color:rgb(255,255,255);stop-opacity:1" />
    </linearGradient>
  <g id="bullet">
      <circle cx="5" cy="5" r="5" style="fill:red"/>
      <circle cx="6" cy="3" r="1" style="fill:pink"/>
  </g> 

    <g id="monster">
      <rect fill="#ff0000" stroke="#000000" stroke-width="2" stroke-dasharray="null" stroke-linejoin="null" stroke-linecap="null" y="0.05028" width="40" height="40" id="svg_6"/>
  <rect id="svg_2" height="9.25088" width="8.9995" y="7.00855" x="3.99196" stroke-linecap="null" stroke-linejoin="null" stroke-dasharray="null" stroke-width="2" stroke="#000000" fill="#ff0000"/>
  <rect id="svg_4" height="9.25088" width="8.9995" y="7.03368" x="18.74811" stroke-linecap="null" stroke-linejoin="null" stroke-dasharray="null" stroke-width="2" stroke="#000000" fill="#ff0000"/>
  <rect id="svg_12" height="8.44646" width="24.48467" y="25.61086" x="3.79085" stroke-linecap="null" stroke-linejoin="null" stroke-dasharray="null" stroke-width="2" stroke="#000000" fill="#ff0000"/>
  </g>  

  <g id="flower">
    <circle cx="5" cy="5" r="7" style="fill:black"/>
    </g>
     <g id="monsterBullet">
    <circle cx="5" cy="5" r="7" style="fill:black"/>
    </g>
    
  <!--   <g id="nameBar">
  <text id="name_value" x="0" y="0" style="fill:cadetblue;font-size:16px;text-anchor:middle">Anonymous</text>
  </g> -->

  <g>
            <text id="nameBar" x="0" y="0"
              style="fill:pink;font-size:16px;text-anchor:middle">Anonymous</text>
          </g>
  <g id="door">
  <g id="Shape1">
            <desc shapeID="1" type="0" basicInfo-basicType="1" basicInfo-roundedRectRadius="12" basicInfo-polygonSides="6" basicInfo-starPoints="5" bounding="rect(-30.0516,-6.8937,60.1032,13.7874)" text="" font-familyName="Helvetica" font-pixelSize="20" font-bold="0" font-underline="0" font-alignment="1" strokeStyle="0" markerStart="0" markerEnd="0" shadowEnabled="0" shadowOffsetX="0" shadowOffsetY="2" shadowBlur="4" shadowOpacity="160" blurEnabled="0" blurRadius="4" transform="matrix(1,0,0,1,29.9484,6.8937)" pers-center="0,0" pers-size="0,0" pers-start="0,0" pers-end="0,0" locked="0" mesh="" flag=""/>
            <path id="shapePath1" d="M-0.103153,0 L60,0 L60,13.7874 L-0.103153,13.7874 L-0.103153,0 Z" style="stroke:#323232;stroke-opacity:1;stroke-width:0.5;stroke-linejoin:miter;stroke-miterlimit:2;stroke-linecap:round;fill-rule:evenodd;fill:#53ff2a;fill-opacity:1;"/>
        </g>
        <g id="Shape2">
            <desc shapeID="2" type="2" basicInfo-basicType="0" basicInfo-roundedRectRadius="12" basicInfo-polygonSides="6" basicInfo-starPoints="5" bounding="rect(-7.1001,-4.12796,14.2002,8.25593)" text="Exit" font-familyName="Tw Cen MT" font-pixelSize="13" font-bold="0" font-underline="0" font-alignment="1" strokeStyle="0" markerStart="0" markerEnd="0" shadowEnabled="0" shadowOffsetX="0" shadowOffsetY="2" shadowBlur="4" shadowOpacity="160" blurEnabled="0" blurRadius="4" transform="matrix(1,0,0,1,29.7799,6.93716)" pers-center="0,0" pers-size="0,0" pers-start="0,0" pers-end="0,0" locked="0" mesh="" flag=""/>
            <path id="shapePath2" d="M21.2696,2.85024 L25.751,2.85024 L25.751,3.95473 L22.3614,3.95473 L22.3614,5.97329 L25.751,5.97329 L25.751,7.06509 L22.3614,7.06509 L22.3614,9.84536 L25.751,9.84536 L25.751,10.9372 L21.2696,10.9372 L21.2696,2.85024 M26.9444,5.70034 L28.2838,5.70034 L29.4517,7.19204 L30.5943,5.70034 L31.921,5.70034 L30.0992,8.06167 L32.3018,10.9372 L30.9879,10.9372 L29.439,8.93764 L27.8775,10.9372 L26.5762,10.9372 L28.7916,8.06167 L26.9444,5.70034 M33.2349,3.98013 C33.2349,3.75161 33.3196,3.55377 33.4888,3.38662 C33.6581,3.21946 33.8591,3.13589 34.0919,3.13589 C34.3204,3.13589 34.5182,3.21946 34.6854,3.38662 C34.8525,3.55377 34.9361,3.75161 34.9361,3.98013 C34.9361,4.21287 34.8525,4.41177 34.6854,4.57681 C34.5182,4.74184 34.3204,4.82436 34.0919,4.82436 C33.8591,4.82436 33.6581,4.74184 33.4888,4.57681 C33.3196,4.41177 33.2349,4.21287 33.2349,3.98013 M33.546,5.70034 L34.6378,5.70034 L34.6378,10.9372 L33.546,10.9372 L33.546,5.70034 M36.6373,4.1769 L37.7418,4.1769 L37.7418,5.70034 L38.8336,5.70034 L38.8336,6.70962 L37.7418,6.70962 L37.7418,10.9372 L36.6373,10.9372 L36.6373,6.70962 L35.7676,6.70962 L35.7676,5.68764 L36.6373,5.68764 L36.6373,4.1769 Z" style="stroke:none;fill-rule:nonzero;fill:#ffffff;fill-opacity:1;"/>
        </g>
        <g id="Shape3">
            <desc shapeID="3" type="0" basicInfo-basicType="1" basicInfo-roundedRectRadius="12" basicInfo-polygonSides="6" basicInfo-starPoints="5" bounding="rect(-29.8039,-13.1682,59.6078,26.3364)" text="" font-familyName="Helvetica" font-pixelSize="20" font-bold="0" font-underline="0" font-alignment="1" strokeStyle="0" markerStart="0" markerEnd="0" shadowEnabled="0" shadowOffsetX="0" shadowOffsetY="2" shadowBlur="4" shadowOpacity="160" blurEnabled="0" blurRadius="4" transform="matrix(1.00831,0,0,1,29.9484,26.9556)" pers-center="0,0" pers-size="0,0" pers-start="0,0" pers-end="0,0" locked="0" mesh="" flag=""/>
            <path id="shapePath3" d="M-0.103153,13.7874 L60,13.7874 L60,40.1238 L-0.103153,40.1238 L-0.103153,13.7874 Z" style="stroke:#323232;stroke-opacity:1;stroke-width:0.5;stroke-linejoin:miter;stroke-miterlimit:2;stroke-linecap:round;fill-rule:evenodd;fill:#93ffe6;fill-opacity:1;"/>
        </g>
        <g id="Shape4">
            <desc shapeID="4" type="0" basicInfo-basicType="1" basicInfo-roundedRectRadius="12" basicInfo-polygonSides="6" basicInfo-starPoints="5" bounding="rect(-0.0412788,-13.0856,0.0825577,26.1713)" text="" font-familyName="Helvetica" font-pixelSize="20" font-bold="0" font-underline="0" font-alignment="1" strokeStyle="0" markerStart="0" markerEnd="0" shadowEnabled="0" shadowOffsetX="0" shadowOffsetY="2" shadowBlur="4" shadowOpacity="160" blurEnabled="0" blurRadius="4" transform="matrix(1,0,0,1,31.3725,27.3271)" pers-center="0,0" pers-size="0,0" pers-start="0,0" pers-end="0,0" locked="0" mesh="" flag=""/>
            <path id="shapePath4" d="M31.3312,14.2415 L31.4138,14.2415 L31.4138,40.4128 L31.3312,40.4128 L31.3312,14.2415 Z" style="stroke:#323232;stroke-opacity:1;stroke-width:0.5;stroke-linejoin:miter;stroke-miterlimit:2;stroke-linecap:round;fill-rule:evenodd;fill:#93ffe6;fill-opacity:1;"/>
        </g>
        <g id="Shape5">
            <desc shapeID="5" type="0" basicInfo-basicType="1" basicInfo-roundedRectRadius="12" basicInfo-polygonSides="6" basicInfo-starPoints="5" bounding="rect(-1.36223,-3.75645,2.72445,7.51289)" text="" font-familyName="Helvetica" font-pixelSize="20" font-bold="0" font-underline="0" font-alignment="1" strokeStyle="0" markerStart="0" markerEnd="0" shadowEnabled="0" shadowOffsetX="0" shadowOffsetY="2" shadowBlur="4" shadowOpacity="160" blurEnabled="0" blurRadius="4" transform="matrix(1,0,0,1,27.4922,25.8411)" pers-center="0,0" pers-size="0,0" pers-start="0,0" pers-end="0,0" locked="0" mesh="" flag=""/>
            <path id="shapePath5" d="M26.13,22.0846 L28.8545,22.0846 L28.8545,29.5975 L26.13,29.5975 L26.13,22.0846 Z" style="stroke:#323232;stroke-opacity:1;stroke-width:0.5;stroke-linejoin:miter;stroke-miterlimit:2;stroke-linecap:round;fill-rule:evenodd;fill:#93ffe6;fill-opacity:1;"/>
        </g>
        <g id="Shape6">
            <desc shapeID="6" type="0" basicInfo-basicType="1" basicInfo-roundedRectRadius="12" basicInfo-polygonSides="6" basicInfo-starPoints="5" bounding="rect(-1.89886,-3.79773,3.79773,7.59545)" text="" font-familyName="Helvetica" font-pixelSize="20" font-bold="0" font-underline="0" font-alignment="1" strokeStyle="0" markerStart="0" markerEnd="0" shadowEnabled="0" shadowOffsetX="0" shadowOffsetY="2" shadowBlur="4" shadowOpacity="160" blurEnabled="0" blurRadius="4" transform="matrix(1,0,0,1,34.7987,25.8823)" pers-center="0,0" pers-size="0,0" pers-start="0,0" pers-end="0,0" locked="0" mesh="" flag=""/>
            <path id="shapePath6" d="M32.8999,22.0846 L36.6976,22.0846 L36.6976,29.6801 L32.8999,29.6801 L32.8999,22.0846 Z" style="stroke:#323232;stroke-opacity:1;stroke-width:0.5;stroke-linejoin:miter;stroke-miterlimit:2;stroke-linecap:round;fill-rule:evenodd;fill:#93ffe6;fill-opacity:1;"/>
        </g>
  </g>
    </defs>
    
    <g id="startpage" style="clip-path:url(#instructionclip)">
        <rect x="0" y="0" width="800" height="600" fill="url(#back_color)"/>
    <g id="button"> 
    <g id= "zoom" onclick="top.zoomMode()" transform="translate(500, 450)">
    <rect x="0" y="0" width="140" height="40" style="fill:grey;stroke:black;stroke-width:4" />
    <text x="70" y="28" style="fill:white;font-size:25px;text-anchor:middle">Zoom</text>
  </g>      
  <g id =" norm" onclick="top.normalMode()" transform="translate(200, 450)">
    <rect x="0" y="0" width="140" height="40" style="fill:grey;stroke:black;stroke-width:4" />
    <text x="70" y="28" style="fill:white;font-size:25px;text-anchor:middle">Normal</text>
  </g>
</g>
<name />
    <text x="400" y="80" style="fill:white;font-size:40px;text-anchor:middle">Lonely square</text>
    <text x="400" y="130" style="fill:white;font-size:25px;text-anchor:middle">You are a very lonely square finding as much as little square!</text>
    <text x="400" y="170" style="fill:black;font-size:25px;text-anchor:middle"> Instruction </text>
    <text x="400" y="210" style="fill:black;font-size:25px;text-anchor:middle"> Left: N</text>
    <text x="400" y="250" style="fill:black;font-size:25px;text-anchor:middle"> Right: M </text>
    <text x="400" y="290" style="fill:black;font-size:25px;text-anchor:middle"> Jump: Z</text>
    <text x="400" y="330" style="fill:black;font-size:25px;text-anchor:middle"> Shoot: Spacebar </text>
    <text x="400" y="370" style="fill:black;font-size:25px;text-anchor:middle"> Cheat: C</text>
    <text x="600" y="550" style="fill:black;font-size:30px;text-anchor:middle"> Wu Qixian (20175760)</text>
    </g>   
    <g id="game_area" style="clip-path: url(#gameclip)">  
        <rect width="100%" height="100%" style="fill:url(#background_pattern);stroke:black;stroke-width:2" />
      <rect x="20" y="20" width="600" height="560" style="fill:white;stroke:black;stroke-width:2" />
      <g transform="translate(640, 120)">
    <text x="70" y="0" style="fill:black;font-size:25px;font-weight:bold;text-anchor:middle">Score:</text>
    <rect x="0" y="10" width="140" height="35" style="fill:black"></rect>
    <text id="score" x="70" y="36" style="fill:white;font-size:25px;text-anchor:middle">0</text>
  </g>
    <g transform="translate(640, 200)">
    <text x="70" y="0" style="fill:black;font-size:25px;font-weight:bold;text-anchor:middle">Time Left:</text>
    <rect x="0" y="10" width="140" height="35" style="fill:white" />
    <rect id="time_bar" x="0" y="10" width="140" height="35" style="fill:black" />
    <text id="TimeRemain" x="70" y="36" style="fill:white;font-size:25px;text-anchor:middle">120</text>
  </g>
    <g transform="translate(640, 260)">
    <text x="70" y="0" style="fill:black;font-size:25px;font-weight:bold;text-anchor:middle">Bullets:</text>
    <rect x="0" y="10" width="140" height="35" style="fill:black"></rect>
    <text id="bulletRemain" x="70" y="36" style="visibility:visible;fill:white;font-size:25px;text-anchor:middle">8</text>
    <text id="cheat" x="70" y="36" style="visibility:hidden;fill:white;font-size:25px;text-anchor:middle">UNLIMITED</text>
  </g>
  <g transform="translate(640, 320)">
    <text x="70" y="0" style="fill:black;font-size:25px;font-weight:bold;text-anchor:middle">Level:</text>
    <rect x="0" y="10" width="140" height="35" style="fill:black"></rect>
    <text id="Level" x="70" y="36" style="fill:white;font-size:25px;text-anchor:middle">1</text>
  </g>
  
    <g id="game" style="clip-path:url(#gameareaclip)">
    <g transform="translate(20,20)">
      <g id="gamearea" transform="translate(0,0)" width="600" height="560">
        <rect x="0" y="0" width="600" height="560" style="fill:white" />

        <g id="platforms">
            <rect x="0" y="540" width="400" height="20" style="fill:black" />
                <rect x="500" y="540" width="160" height="20" style="fill:black" />

                <rect x="0" y="80" width="30" height="20" style="fill:black" />          

                <rect x="0" y="0" width="100" height="20" style="fill:black" />
                <rect x="200" y="0" width="390" height="20" style="fill:black" />

                <rect x="520" y="460" width="80" height="20" style="fill:black" />
                <rect style="fill:black" width="60" height="20" x="0" y="60"/>
            <rect style="fill:black" width="20" height="20" x="40" y="80"/>
            <rect style="fill:black" width="480" height="20" x="40" y="100"/>
            <rect style="fill:black" width="60" height="20" x="0" y="500"/>
            <rect style="fill:black" width="20" height="20" x="260" y="500"/>
            <rect style="fill:black" width="80" height="20" x="0" y="520"/>
            <rect style="fill:black" width="20" height="20" x="140" y="520"/>
            <rect style="fill:black" width="80" height="20" x="240" y="520"/>
            <rect style="fill:black" width="20" height="20" x="500" y="520"/>
            <rect style="fill:black" width="20" height="40" x="40" y="200"/>
            <rect style="fill:black" width="20" height="60" x="60" y="180"/>
            <rect style="fill:black" width="200" height="20" x="200" y="300" />
            <rect style="fill:black" width="20" height="20" x="380" y="180"/>
      <rect style="fill:black" width="50" height="20" x="220" y="400" />
      <rect style="fill:black" width="400" height="20" x="100" y="420" />
      <rect style="fill:black" width="80" height="20" x="360" y="200"/>
      <rect style="fill:black" width="140" height="20" x="320" y="220"/>
      <rect style="fill:black" width="160" height="20" x="340" y="240"/>
      <rect style="fill:black" width="60" height="40" x="280" y="320"/>
      <rect style="fill:black" width="120" height="20" x="40" y="240"/>
      <rect style="fill:black" width="80" height="20"  x="0" y="300" />

                <rect id="vertical" x="480" y="400" width="120" height="20" minY="100" maxY="400" direction="3" style="fill:#800000" />

              <!--   <rect type="disappearing" x="520" y="460" width="80" height="20" style="fill:brown; opacity:1" />
                <rect type="disappearing" x="0" y="460" width="80" height="20" style="fill:brown; opacity:1" />
                <rect type="disappearing" x="0" y="120" width="100" height="20" style="fill:brown; opacity:1" /> -->

            <rect id="verticalPlatform" x="550" y="450" width="40" height="20" style="fill:blue;" />
            <g id="portal1" transform="translate(590,0)">
        <rect x="1" y="1" width="8" height="38" style="fill:blue"/>
      </g>
      <g id="portal2" transform="translate(0,260)">
        <rect x="1" y="1" width="8" height="38" style="fill:blue"/>
      </g>
        </g>
        <g id="exit_here"/>
      <g id="monsters"/>
      <g id="bullets"/> 
      <g id="flowers"/>
      <g id="monsterBullets"/>
    <g id="player_name" />

        <g id="player">
  <ellipse fill="#999999" stroke="#000000" stroke-width="2" cx="20" cy="20" id="svg_1" rx="20" ry="20"/>
  <ellipse ry="5.53042" rx="3.26797" id="svg_5" cy="12.8909" cx="12.43841" stroke-linecap="null" stroke-linejoin="null" stroke-dasharray="null" stroke-width="2" stroke="#000000" fill="#000000"/>
  <ellipse id="svg_6" ry="5.53042" rx="3.26797" cy="13.36853" cx="28.95425" stroke-linecap="null" stroke-linejoin="null" stroke-dasharray="null" stroke-width="2" stroke="#000000" fill="#999999"/>
  <path d="m9.42182,25.76169c0.46564,0.71438 1.06533,1.46225 1.9325,1.68007c0.84463,0.21216 1.77221,0.08364 2.64695,0.07961c0.90909,-0.00419 1.74736,-0.29106 2.64434,-0.20989c0.65193,0.05899 0.92376,1.09794 1.5459,1.69372c0.63665,0.60966 1.60351,0.56956 2.5558,0.52722c0.8702,-0.03869 1.7851,-0.3919 2.27645,0.10344c0.61814,0.62316 1.3791,0.79846 2.17196,0.43691c0.82294,-0.37527 1.40401,0.16244 2.18286,0.47136c0.80906,0.3209 1.69198,-0.06627 2.32772,-0.68071c0.64987,-0.6281 1.3806,-1.13623 1.28415,-0.28064c-0.10105,0.89638 -1.49716,2.19796 -0.70387,2.51271c0.49359,0.19584 0.48681,-1.26022 0.70283,-2.15875l0.1508,-0.88173" id="svg_7" stroke-linecap="null" stroke-linejoin="null" stroke-dasharray="null" stroke-width="2" stroke="#000000" fill="none"/>
  <path d="m7.31021,4.04223c-0.73377,-0.46697 -1.41273,-1.0187 -2.27469,-1.30144c-0.81431,-0.26711 -1.70782,-0.39461 -2.58778,-0.40796c-0.89653,-0.0136 -1.7075,0.25138 -2.59561,0.25138c-0.92133,0 -1.74853,0 -2.6729,0l-0.66765,-0.39961l-0.80358,-0.20371" id="svg_9" stroke-linecap="null" stroke-linejoin="null" stroke-dasharray="null" stroke-width="2" stroke="#000000" fill="none"/>
 </g>
    </g>


    </g>
    
  </g>
</g>
<g id="highscoretable"  style = " visibility : hidden" transform="translate(40,40)">
          <rect width="520" height="560" style="fill:white;stroke:black;stroke-width:2"/>
          
          <text x="260" y="40"
            style="fill:black;font-size:40px;font-weight:bold;text-anchor:middle">
              Game Over!!
          </text>
  
          
          <text x="260" y="80"
            style="fill:black;font-size:30px;font-weight:bold;text-anchor:middle">
              High Score Table
          </text>
          <text id="highscoretext" y="85" style="font-size: 20px;font-weight:bold"/>
          <g id="again" onclick="top.replay()" transform="translate(220,500)">
            <rect x="0" y="0" width="140" height="40"
              style="fill:white;stroke:black;stroke-width:2" />
            <text x="70" y="25" style="fill:black;font-size:22px;text-anchor:middle">
              Again?
            </text>
          </g>
        </g>
</svg>
